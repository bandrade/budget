<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:pe="http://primefaces.org/ui/extensions"
	  xmlns:p="http://primefaces.org/ui">

	<h:head>
		<title>Incluir Despesa Forecast</title>
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/css/default.css"/>
	</h:head>
	
	<h:body >		
		<f:event listener="#{incluirDespesaRateioAction.initConversation}" type="preRenderView" />
		<p:panel id="content">
			<h:form id="formDespesa">
							
				<p:messages id="messages" showDetail="true" showSummary="false" autoUpdate="true" closable="true" globalOnly="true"/>
				
				
				<p:panelGrid columns="2" id="dadosCC" styleClass="layoutUnit main">
					<p:outputLabel value="Centro de custo:" for="centroCustosSelectOneMenu"/>
					<p:autoComplete id="centroCustosSelectOneMenu" 
							onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()"
							dropdown="true" value="#{solicitacaoPagamentoAction.centroCustoDespesaForecast}" 
							completeMethod="#{autocompleteAction.autoCompleteCentroCusto}" 
				 			scrollHeight="300"
							converter="com.dupont.EntityConverter"
				 			var="_centroCusto" itemLabel="#{_centroCusto.codigo}" itemValue="#{_centroCusto}"
				 			emptyMessage="NAO ENCONTRADO" effect="size" 
				 			required="true"
				 			disabled="#{solicitacaoPagamentoAction.solicitacaoPagamento.tipoSolicitacaoPagamentoAsString =='PENDENTE_VALIDACAO'}"
				 			/>
					<p:outputLabel value="Tipo de Despesa:*"></p:outputLabel>
					<p:autoComplete id="cboTipoDespesa" dropdown="true" value="#{despesaForecast.tipoDespesa}" completeMethod="#{autocompleteAction.autocompleteTipoDespesa}" 
					 var="_tipoDespesa" itemLabel="#{_tipoDespesa.nome}" itemValue="#{_tipoDespesa}" emptyMessage="NAO ENCONTRADO" effect="size"  required="true" 
					 scrollHeight="300"
					 styleClass="input"
					 converter="com.dupont.EntityConverter"
					  />
					 
					<p:outputLabel value="Produto:*"></p:outputLabel>
					<p:autoComplete id="cboProduto" dropdown="true" value="#{despesaForecast.produto}" completeMethod="#{autocompleteAction.autocompleteProduto}" 
					 styleClass="input"
					 scrollHeight="300"
					  required="true"
					 var="_produto" itemLabel="#{_produto.nome}" itemValue="#{_produto}" emptyMessage="NAO ENCONTRADO" effect="size" converter="com.dupont.EntityConverter"/>

					<p:outputLabel value="Cultura:*"></p:outputLabel>
					<p:autoComplete id="cboCultura" dropdown="true" value="#{despesaForecast.cultura}" completeMethod="#{autocompleteAction.autocompleteCultura}" 
					 styleClass="input"
					 scrollHeight="300"
					  required="true"
					converter="com.dupont.EntityConverter"
					 var="_cultura" itemLabel="#{_cultura.nome}" itemValue="#{_cultura}" emptyMessage="NAO ENCONTRADO" effect="size"  />
					
					<p:outputLabel value="Distrito:*" ></p:outputLabel>
					<p:autoComplete id="cboDistrito" dropdown="true" value="#{despesaForecast.distrito}" completeMethod="#{autocompleteAction.autocompleteDistrito}" 
					 styleClass="input"
					 scrollHeight="200"
					  required="true"
					converter="com.dupont.EntityConverter"
					 var="distrito" itemLabel="#{distrito.nome}" itemValue="#{distrito}" emptyMessage="NAO ENCONTRADO" effect="size" />
 
					<p:outputLabel value="ERC:"></p:outputLabel>
					<p:autoComplete id="cboVendedor" dropdown="true" value="#{despesaForecast.vendedor}" completeMethod="#{autocompleteAction.autocompleteVendedor}" 
					 styleClass="input"
					 scrollHeight="200"
					converter="com.dupont.EntityConverter"
					 var="_vendedor" itemLabel="#{_vendedor.nome}" itemValue="#{_vendedor}" emptyMessage="NAO ENCONTRADO" effect="size"  />
					
					<p:outputLabel value="Cliente:"></p:outputLabel>
					<p:autoComplete id="cboCliente" dropdown="true" value="#{despesaForecast.cliente}" completeMethod="#{autocompleteAction.autocompleteCliente}" 
				     converter="com.dupont.EntityConverter"
				      styleClass="input"
				       
				     scrollHeight="200"  
					 var="_cliente" itemLabel="#{_cliente.nome}" itemValue="#{_cliente}" emptyMessage="NAO ENCONTRADO" effect="size" />
					<p:outputLabel value="Ação:*"></p:outputLabel>
					 <p:inputTextarea id="inputAcao" value="#{despesaForecast.acao.nome}" required="true"/>
					
					<p:outputLabel value="Comentário:"></p:outputLabel>
					<p:inputTextarea value="#{despesaForecast.comentario}" />
					
					<p:outputLabel value="Valor Nota(R$):*"></p:outputLabel>
					<pe:inputNumber  id="valor" value="#{despesaForecast.valor}" converter="javax.faces.Double" required="true"
						disabled="#{solicitacaoPagamentoAction.solicitacaoPagamento.tipoSolicitacaoPagamentoAsString =='PENDENTE_VALIDACAO'}"/>
				</p:panelGrid>
				
				<p:commandButton value="Incluir"  icon="ui-icon-check" action="#{solicitacaoPagamentoAction.closeDespesaForecastDialog}" styleClass="button" update=":formDespesa"/>
			</h:form>
		</p:panel>
	</h:body>

</html>